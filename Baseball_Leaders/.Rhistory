shiny::runApp()
eval("Batting$HR")
eval(parse("Batting$HR"))
eval(parse(text = "Batting$HR"))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
source('~/GitHub/shiny-server/Baseball_Leaders/top_n_leaderboard.R', echo=TRUE)
source('~/GitHub/shiny-server/Baseball_Leaders/top_n_leaderboard.R', echo=TRUE)
View(batting_cum)
playerInfo("ottme")
playerInfo("ottme01")
playerInfo("ottme", exact = TRUE)
?playerInfo
playerInfo("ottme", fixed = TRUE)
playerInfo("ottme01, fixed = TRUE)
playerInfo("ottme01", fixed = TRUE)
playerInfo("ottme01", fixed = TRUE)[1]
playerInfo("ottme01", fixed = TRUE)[1,]
source('~/GitHub/shiny-server/Baseball_Leaders/top_n_leaderboard.R', echo=TRUE)
playerInfo("ottme01")[1, ]$nameFirst
playerInfo("ottme01")[1, ]$nameLast
mutate(
`First Name` = playerInfo(playerID)[1, ]$nameFirst
,`Last Name` = playerInfo(playerID)[1, ]$nameLast
) %>%
mutate(
`Full Name` = paste0(`Last Name`, ", ", `First Name`)
)
mutate(
`First Name` = playerInfo(playerID)[1, ]$nameFirst
,`Last Name` = playerInfo(playerID)[1, ]$nameLast
# ) %>%
# mutate(
#   `Full Name` = paste0(`Last Name`, ", ", `First Name`)
)
batting_cum <-
Batting_tib %>%
filter(yearID <= yr) %>%
group_by(playerID) %>%
mutate(Cum_HR = cumsum(!!test)) %>%
arrange(desc(Cum_HR)) %>%
distinct(
playerID
,.keep_all = TRUE
) %>%
head(n) #%>%
batting_cum <-
Batting_tib %>%
filter(yearID <= yr) %>%
group_by(playerID) %>%
mutate(Cum_HR = cumsum(!!test)) %>%
arrange(desc(Cum_HR)) %>%
distinct(
playerID
,.keep_all = TRUE
) %>%
head(n) %>%
mutate(
`First Name` = playerInfo(playerID)[1, ]$nameFirst
,`Last Name` = playerInfo(playerID)[1, ]$nameLast
# ) %>%
# mutate(
#   `Full Name` = paste0(`Last Name`, ", ", `First Name`)
)
batting_cum <-
Batting_tib %>%
filter(yearID <= yr) %>%
group_by(playerID) %>%
mutate(Cum_HR = cumsum(!!test)) %>%
arrange(desc(Cum_HR)) %>%
distinct(
playerID
,.keep_all = TRUE
) %>%
head(n) %>%
mutate(
`First Name` = playerInfo(playerID)[1, ]$nameFirst
,`Last Name` = playerInfo(playerID)[1, ]$nameLast
) %>%
mutate(
`Full Name` = paste0(`Last Name`, ", ", `First Name`)
)
Batting %>%
select(
-c(
playerID
,yearID
,stint
,teamID
,lgID
)
)
top_n_bar_chart <-
ggplot(
batting_cum%>%
head(n)
,aes(
x = `Full Name`
,y = Cum_HR
)
) +
geom_col(
alpha = 0.75
) +
labs(
title = paste("Top", n, "Players by Cumulative HR's in", yr)
,y = "Cumulative HR's"
)
source('~/GitHub/shiny-server/Baseball_Leaders/top_n_leaderboard.R', echo=TRUE)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
playerInfo("Frank")
playerInfo("Frank Robinson")
playerInfo("robinfr02")
rm(list=ls())
library(tidyverse)
library(Lahman)
library(lubridate)
# Updates them_minimal so that there is borders around the graphs and the facet headings.
theme_minimal2 <- theme_minimal() %>%  theme_set()
theme_minimal2 <-
theme_update(
panel.border = element_rect(
linetype = "solid"
,colour = "grey92"
,fill = NA
)
,strip.background = element_rect(
linetype = "solid"
,colour = "grey92"
,fill = NA
)
)
# Year to go up to
yr <- 2017
n <- 22
test <- quo(G)
Batting_tib <-
Batting %>%
as.tibble()
# Provides cumulative stats for each player up to this year.
batting_cum <-
Batting_tib %>%
filter(yearID <= yr) %>%
group_by(playerID) %>%
mutate(Cum_HR = cumsum(!!test)) %>%
arrange(desc(Cum_HR)) %>%
distinct(
playerID
,.keep_all = TRUE
) %>%
head(n)
View(batting_cum)
source('~/GitHub/shiny-server/Baseball_Leaders/top_n_leaderboard.R', echo=TRUE)
source('~/GitHub/shiny-server/Baseball_Leaders/top_n_leaderboard.R', echo=TRUE)
View(batting_cum)
batting_cum <-
Batting_tib %>%
filter(yearID <= yr) %>%
group_by(playerID) %>%
mutate(Cum_HR = cumsum(!!test)) %>%
arrange(desc(Cum_HR)) %>%
distinct(
playerID
,.keep_all = TRUE
) %>%
head(n) %>%
mutate(
`First Name` = playerInfo(playerID)[1, ]$nameFirst
,`Last Name` = playerInfo(playerID)[1, ]$nameLast
) %>%
mutate(
`Full Name` = paste0(`Last Name`, ", ", `First Name`)
)
View(batting_cum)
runApp()
